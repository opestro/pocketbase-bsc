import{S as M,i as P,s as R,F as H,c as j,m as q,t as N,a as S,d as V,M as w,g as y,N as F,L as g,n as r,v as a,p as E,h as u,j as v,k as d,q as k,I as m,l as C,o as z}from"./index-CdB6q2vK.js";function A(i){let e,s,n;function t(o,f){return o[4]?K:J}let l=t(i),c=l(i);return{c(){e=u("div"),e.innerHTML='<div class="icon"><i class="ri-error-warning-line"></i></div> <div class="content txt-bold"><p>Invalid or expired verification token.</p></div>',s=v(),c.c(),n=g(),d(e,"class","alert alert-danger")},m(o,f){r(o,e,f),r(o,s,f),c.m(o,f),r(o,n,f)},p(o,f){l===(l=t(o))&&c?c.p(o,f):(c.d(1),c=l(o),c&&(c.c(),c.m(n.parentNode,n)))},d(o){o&&(a(e),a(s),a(n)),c.d(o)}}}function B(i){let e,s,n,t,l;return{c(){e=u("div"),e.innerHTML='<div class="icon"><i class="ri-checkbox-circle-line"></i></div> <div class="content txt-bold"><p>Please check your email for the new verification link.</p></div>',s=v(),n=u("button"),n.textContent="Close",d(e,"class","alert alert-success"),d(n,"type","button"),d(n,"class","btn btn-transparent btn-block")},m(c,o){r(c,e,o),r(c,s,o),r(c,n,o),t||(l=k(n,"click",i[8]),t=!0)},p:m,d(c){c&&(a(e),a(s),a(n)),t=!1,l()}}}function D(i){let e,s,n,t,l;return{c(){e=u("div"),e.innerHTML='<div class="icon"><i class="ri-checkbox-circle-line"></i></div> <div class="content txt-bold"><p>Successfully verified email address.</p></div>',s=v(),n=u("button"),n.textContent="Close",d(e,"class","alert alert-success"),d(n,"type","button"),d(n,"class","btn btn-transparent btn-block")},m(c,o){r(c,e,o),r(c,s,o),r(c,n,o),t||(l=k(n,"click",i[7]),t=!0)},p:m,d(c){c&&(a(e),a(s),a(n)),t=!1,l()}}}function G(i){let e;return{c(){e=u("div"),e.innerHTML='<div class="loader loader-lg"><em>Please wait...</em></div>',d(e,"class","txt-center")},m(s,n){r(s,e,n)},p:m,d(s){s&&a(e)}}}function J(i){let e,s,n;return{c(){e=u("button"),e.textContent="Close",d(e,"type","button"),d(e,"class","btn btn-transparent btn-block")},m(t,l){r(t,e,l),s||(n=k(e,"click",i[9]),s=!0)},p:m,d(t){t&&a(e),s=!1,n()}}}function K(i){let e,s,n,t;return{c(){e=u("button"),s=u("span"),s.textContent="Resend",d(s,"class","txt"),d(e,"type","button"),d(e,"class","btn btn-transparent btn-block"),e.disabled=i[3],C(e,"btn-loading",i[3])},m(l,c){r(l,e,c),z(e,s),n||(t=k(e,"click",i[5]),n=!0)},p(l,c){c&8&&(e.disabled=l[3]),c&8&&C(e,"btn-loading",l[3])},d(l){l&&a(e),n=!1,t()}}}function O(i){let e;function s(l,c){return l[1]?G:l[0]?D:l[2]?B:A}let n=s(i),t=n(i);return{c(){t.c(),e=g()},m(l,c){t.m(l,c),r(l,e,c)},p(l,c){n===(n=s(l))&&t?t.p(l,c):(t.d(1),t=n(l),t&&(t.c(),t.m(e.parentNode,e)))},d(l){l&&a(e),t.d(l)}}}function Q(i){let e,s;return e=new H({props:{nobranding:!0,$$slots:{default:[O]},$$scope:{ctx:i}}}),{c(){j(e.$$.fragment)},m(n,t){q(e,n,t),s=!0},p(n,[t]){const l={};t&2079&&(l.$$scope={dirty:t,ctx:n}),e.$set(l)},i(n){s||(N(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){V(e,n)}}}function U(i,e,s){let n,{params:t}=e,l=!1,c=!1,o=!1,f=!1;h();async function h(){if(c)return;s(1,c=!0);const p=new w("https://bsc-pocketbase.mtdjari.com");try{const b=y(t==null?void 0:t.token);await p.collection(b.collectionId).confirmVerification(t==null?void 0:t.token),s(0,l=!0)}catch{s(0,l=!1)}s(1,c=!1)}async function x(){const p=y(t==null?void 0:t.token);if(f||!p.collectionId||!p.email)return;s(3,f=!0);const b=new w("https://bsc-pocketbase.mtdjari.com");try{const _=y(t==null?void 0:t.token);await b.collection(_.collectionId).requestVerification(_.email),s(2,o=!0)}catch(_){E.error(_),s(2,o=!1)}s(3,f=!1)}const T=()=>window.close(),I=()=>window.close(),L=()=>window.close();return i.$$set=p=>{"params"in p&&s(6,t=p.params)},i.$$.update=()=>{i.$$.dirty&64&&s(4,n=(t==null?void 0:t.token)&&F(t.token))},[l,c,o,f,n,x,t,T,I,L]}class X extends M{constructor(e){super(),P(this,e,U,Q,R,{params:6})}}export{X as default};
